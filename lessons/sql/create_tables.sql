-- Таблица: Товары
CREATE TABLE products (
    product_id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    category VARCHAR(50),
    price DECIMAL(10, 2) NOT NULL,
    stock INTEGER DEFAULT 0
);

-- Таблица: Клиенты
CREATE TABLE customers (
    customer_id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    city VARCHAR(50)
);


INSERT INTO products (name, category, price, stock) VALUES
    ('Ноутбук ASUS', 'Электроника', 75000.00, 8),
    ('Смартфон Samsung', 'Электроника', 45000.00, 20),
    ('Клавиатура механическая', 'Электроника', 3500.00, 25),
    ('Мышь беспроводная', 'Электроника', 1500.00, 50),
    ('Монитор LG 27"', 'Электроника', 25000.00, 12),
    ('Наушники Sony', 'Электроника', 8000.00, 18),
    ('Веб-камера Logitech', 'Электроника', 6000.00, 14),
    ('Флешка 64GB', 'Электроника', 1200.00, 60),
    ('Жесткий диск 1TB', 'Электроника', 5000.00, 22),
    ('Планшет iPad', 'Электроника', 55000.00, 10),
    ('Кресло офисное', 'Мебель', 12000.00, 15),
    ('Стол письменный', 'Мебель', 15000.00, 8),
    ('Лампа настольная', 'Мебель', 2500.00, 35),
    ('Шкаф для документов', 'Мебель', 18000.00, 6),
    ('Стул для офиса', 'Мебель', 4500.00, 20),
    ('Полка настенная', 'Мебель', 3000.00, 12),
    ('Рюкзак для ноутбука', 'Аксессуары', 3000.00, 40),
    ('Коврик для мыши', 'Аксессуары', 500.00, 100),
    ('Чехол для планшета', 'Аксессуары', 1800.00, 30),
    ('Кабель USB-C', 'Аксессуары', 800.00, 70),
    ('Подставка для ноутбука', 'Аксессуары', 2200.00, 25),
    ('Книга "Python для анализа данных"', 'Книги', 2000.00, 15),
    ('Книга "SQL для начинающих"', 'Книги', 1500.00, 20),
    ('Книга "Алгоритмы и структуры данных"', 'Книги', 2500.00, 10),
    ('Блокнот А5', 'Канцелярия', 300.00, 80),
    ('Ручка шариковая', 'Канцелярия', 50.00, 200),
    ('Маркеры цветные (набор)', 'Канцелярия', 450.00, 45),
    ('Папка для документов', 'Канцелярия', 150.00, 120);


INSERT INTO customers (name, email, city) VALUES
    ('Иван Петров', 'ivan.petrov@mail.ru', 'Москва'),
    ('Анна Иванова', 'anna.ivanova@gmail.com', 'Санкт-Петербург'),
    ('Петр Сидоров', 'petr.sidorov@yandex.ru', 'Москва'),
    ('Мария Смирнова', 'maria.smirnova@mail.ru', 'Казань'),
    ('Алексей Козлов', 'alexey.kozlov@gmail.com', 'Новосибирск'),
    ('Ольга Федорова', 'olga.fedorova@yandex.ru', 'Екатеринбург'),
    ('Дмитрий Новиков', 'dmitry.novikov@mail.ru', 'Москва'),
    ('Елена Морозова', 'elena.morozova@gmail.com', 'Санкт-Петербург'),
    ('Сергей Волков', 'sergey.volkov@yandex.ru', 'Краснодар'),
    ('Татьяна Соколова', 'tatyana.sokolova@mail.ru', 'Москва'),
    ('Владимир Лебедев', 'vladimir.lebedev@gmail.com', 'Москва'),
    ('Наталья Павлова', 'natalia.pavlova@yandex.ru', 'Воронеж'),
    ('Андрей Николаев', 'andrey.nikolaev@mail.ru', 'Нижний Новгород'),
    ('Ирина Захарова', 'irina.zaharova@gmail.com', 'Самара'),
    ('Михаил Борисов', 'mikhail.borisov@yandex.ru', 'Москва');


    -- Таблица: Заказы
CREATE TABLE orders (
    order_id SERIAL PRIMARY KEY,
    customer_id INTEGER REFERENCES customers(customer_id),
    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    total_amount DECIMAL(10, 2) NOT NULL,
    status VARCHAR(20) DEFAULT 'pending'
);

-- Таблица: Позиции заказов
CREATE TABLE order_items (
    order_item_id SERIAL PRIMARY KEY,
    order_id INTEGER REFERENCES orders(order_id),
    product_id INTEGER REFERENCES products(product_id),
    quantity INTEGER NOT NULL,
    price DECIMAL(10, 2) NOT NULL
);


INSERT INTO orders (customer_id, order_date, total_amount, status) VALUES
    (1, '2026-01-15 10:30:00', 80500.00, 'completed'),
    (2, '2026-01-16 14:20:00', 45000.00, 'completed'),
    (1, '2026-01-20 09:15:00', 12000.00, 'pending'),
    (3, '2026-01-21 16:45:00', 28500.00, 'completed'),
    (4, '2026-01-22 11:00:00', 9000.00, 'shipped'),
    (5, '2026-01-23 13:30:00', 15500.00, 'completed'),
    (7, '2026-01-24 10:00:00', 78000.00, 'pending'),
    (8, '2026-01-25 15:20:00', 3500.00, 'completed'),
    (10, '2026-01-26 12:10:00', 27000.00, 'shipped'),
    (11, '2026-01-27 09:30:00', 6800.00, 'completed'),
    (1, '2026-01-28 14:00:00', 25000.00, 'pending'),
    (15, '2026-01-29 11:45:00', 58000.00, 'completed');


INSERT INTO order_items (order_id, product_id, quantity, price) VALUES
    -- Заказ 1 (Иван Петров)
    (1, 1, 1, 75000.00),  -- Ноутбук
    (1, 6, 1, 8000.00),   -- Наушники
    -- Заказ 2 (Анна Иванова)
    (2, 2, 1, 45000.00),  -- Смартфон
    -- Заказ 3 (Иван Петров)
    (3, 11, 1, 12000.00), -- Кресло
    -- Заказ 4 (Петр Сидоров)
    (4, 3, 2, 3500.00),   -- Клавиатура x2
    (4, 4, 3, 1500.00),   -- Мышь x3
    (4, 5, 1, 25000.00),  -- Монитор
    -- Заказ 5 (Мария Смирнова)
    (5, 9, 1, 5000.00),   -- Жесткий диск
    (5, 17, 1, 3000.00),  -- Рюкзак
    (5, 13, 1, 2500.00),  -- Лампа
    -- Заказ 6 (Алексей Козлов)
    (6, 12, 1, 15000.00), -- Стол
    (6, 15, 1, 4500.00),  -- Стул
    -- Заказ 7 (Дмитрий Новиков)
    (7, 1, 1, 75000.00),  -- Ноутбук
    (7, 7, 1, 6000.00),   -- Веб-камера
    -- Заказ 8 (Елена Морозова)
    (8, 3, 1, 3500.00),   -- Клавиатура
    -- Заказ 9 (Татьяна Соколова)
    (9, 5, 1, 25000.00),  -- Монитор
    (9, 19, 1, 1800.00),  -- Чехол
    (9, 18, 2, 500.00),   -- Коврик x2
    -- Заказ 10 (Владимир Лебедев)
    (10, 6, 1, 8000.00),  -- Наушники
    (10, 8, 3, 1200.00),  -- Флешка x3
    (10, 20, 2, 800.00),  -- Кабель x2
    -- Заказ 11 (Иван Петров)
    (11, 5, 1, 25000.00), -- Монитор
    -- Заказ 12 (Михаил Борисов)
    (12, 2, 1, 45000.00), -- Смартфон
    (12, 11, 1, 12000.00); -- Кресло